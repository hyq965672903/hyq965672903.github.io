

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="灼华">
  <meta name="keywords" content="Java,Vue,Android,摄影">
  
    <meta name="description" content="了解JVM整体架构图，javac编译器编译步骤，class文件的解读，字节码指令是什么以及常见的字节码有哪些">
<meta property="og:type" content="article">
<meta property="og:title" content="JVM与GC调优(一)-字节码篇">
<meta property="og:url" content="https://hyq965672903.gitee.io/posts/d7ec6c3.html">
<meta property="og:site_name" content="灼华碎碎语">
<meta property="og:description" content="了解JVM整体架构图，javac编译器编译步骤，class文件的解读，字节码指令是什么以及常见的字节码有哪些">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://tva3.sinaimg.cn/large/9bd9b167ly1fwrsp15pc6j21hc0u0gtv.jpg">
<meta property="article:published_time" content="2022-09-13T06:39:40.000Z">
<meta property="article:modified_time" content="2024-04-22T07:21:14.879Z">
<meta property="article:author" content="灼华">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Vue">
<meta property="article:tag" content="Android">
<meta property="article:tag" content="摄影">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://tva3.sinaimg.cn/large/9bd9b167ly1fwrsp15pc6j21hc0u0gtv.jpg">
  
  
  
  <title>JVM与GC调优(一)-字节码篇 - 灼华碎碎语</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"hyq965672903.gitee.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>灼华碎碎语</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://tva4.sinaimg.cn/large/9bd9b167gy1g4lhe1cyggj21hc0xcn7f.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="JVM与GC调优(一)-字节码篇"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        灼华
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-09-13 14:39" pubdate>
          2022年9月13日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          8.8k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          74 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">JVM与GC调优(一)-字节码篇</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：2024年4月22日 下午
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <p>了解JVM整体架构图，javac编译器编译步骤，class文件的解读，字节码指令是什么以及常见的字节码有哪些</p>
<span id="more"></span>

<p><strong>概念</strong>：广义上的JVM是指一种规范，狭义上的JVM指的是Hotspot类的虚拟机实现</p>
<p><strong>Java语言与JVM的关系</strong>：Java语言编写程序生成class字节码在JVM虚拟机里执行。其他语言也可以，比如 kotlin、Groovy</p>
<p><strong>学习流程</strong>：类加载子系统 –&gt; 运行时数据区 –&gt; 一个对象的一生–&gt; GC垃圾收集器</p>
<h2 id="知识体系"><a href="#知识体系" class="headerlink" title="知识体系"></a>知识体系</h2><blockquote>
<p>JVM整体学习流程</p>
</blockquote>
<ul>
<li><strong>字节码引出JVM基础知识</strong></li>
<li><strong>类的加载过程</strong></li>
<li><strong>运行时内存数据</strong></li>
<li><strong>对象内存布局</strong></li>
<li><strong>执行引擎</strong></li>
<li><strong>垃圾回收</strong></li>
<li><strong>JVM性能监控</strong></li>
<li><strong>性能调优案例</strong></li>
</ul>
<h2 id="字节码篇"><a href="#字节码篇" class="headerlink" title="字节码篇"></a>字节码篇</h2><blockquote>
<p>什么是字节码指令？</p>
</blockquote>
<p>Java虚拟机的指令是由<code>一个字节长度</code>的、代表着某种特定操作含义的<code>操作码</code>（opcode），以及其后跟随<code>零至多个</code>代表此操作所需参数的<code>操作数</code>（operand）</p>
<h3 id="字节码案例"><a href="#字节码案例" class="headerlink" title="字节码案例"></a>字节码案例</h3><h4 id="案例1"><a href="#案例1" class="headerlink" title="案例1"></a>案例1</h4><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ByteCondeInterview</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">/**
     * 包装类对象的缓存问题
     * Byte         -128-127
     * Short        -128-127
     * Integer      -128-127
     * Long         -128-127
     * Float        没有
     * Double       没有
     * Character    0-127
     * Boolean      true/false
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">Integer</span> i1<span class="token operator">=</span><span class="token number">128</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> i2<span class="token operator">=</span><span class="token number">128</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i1<span class="token operator">==</span>i2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>通过idea插件jclasslib观察字节码文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-text" data-language="text"><code class="language-text"> 0 sipush 128
 3 invokestatic #2 &lt;java/lang/Integer.valueOf : (I)Ljava/lang/Integer;>
 6 astore_1
 7 sipush 128
10 invokestatic #2 &lt;java/lang/Integer.valueOf : (I)Ljava/lang/Integer;>
13 astore_2
14 getstatic #3 &lt;java/lang/System.out : Ljava/io/PrintStream;>
17 aload_1
18 aload_2
19 if_acmpne 26 (+7)
22 iconst_1
23 goto 27 (+4)
26 iconst_0
27 invokevirtual #4 &lt;java/io/PrintStream.println : (Z)V>
30 return
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>Integer.valueOf里面回去调用 IntegerCache缓存对象</p>
<h4 id="案例2"><a href="#案例2" class="headerlink" title="案例2"></a>案例2</h4><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">@Test
public void test2() &#123;
    String str1 &#x3D; new String(&quot;hello&quot;) + new String(&quot;world&quot;);
    String str2 &#x3D; &quot;helloworld&quot;;

    System.out.println(str1 &#x3D;&#x3D; str2); &#x2F;&#x2F;false
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-text" data-language="text"><code class="language-text"> 0 new #5 &lt;java/lang/StringBuilder>
 3 dup
 4 invokespecial #6 &lt;java/lang/StringBuilder.&lt;init> : ()V>
 7 new #7 &lt;java/lang/String>
10 dup
11 ldc #8 &lt;hello>
13 invokespecial #9 &lt;java/lang/String.&lt;init> : (Ljava/lang/String;)V>
16 invokevirtual #10 &lt;java/lang/StringBuilder.append : (Ljava/lang/String;)Ljava/lang/StringBuilder;>
19 new #7 &lt;java/lang/String>
22 dup
23 ldc #11 &lt;world>
25 invokespecial #9 &lt;java/lang/String.&lt;init> : (Ljava/lang/String;)V>
28 invokevirtual #10 &lt;java/lang/StringBuilder.append : (Ljava/lang/String;)Ljava/lang/StringBuilder;>
31 invokevirtual #12 &lt;java/lang/StringBuilder.toString : ()Ljava/lang/String;>
34 astore_1
35 ldc #13 &lt;helloworld>
37 astore_2
38 getstatic #3 &lt;java/lang/System.out : Ljava/io/PrintStream;>
41 aload_1
42 aload_2
43 if_acmpne 50 (+7)
46 iconst_1
47 goto 51 (+4)
50 iconst_0
51 invokevirtual #4 &lt;java/io/PrintStream.println : (Z)V>
54 return
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>str1不和str2相等的原因在于，str1的对象是由两个StringBuilder对象转化使用append拼接，最后调用StringBuilder的toString,而toString里面使用的值又是StringBuilder对象的值新new一个对象的，而str2是直接在堆中常量对象，二者地址自然不对等</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Create a copy, don't share the array</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="案例3"><a href="#案例3" class="headerlink" title="案例3"></a>案例3</h4><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    str1<span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">"helloworld"</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1 <span class="token operator">==</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>加入  str1.intern(); 就是true  jdk6还事false，jdk8后是true,因为jdk8后的常量池也在堆中，此时通过  str1.intern();会将常量池改对象的地址指向堆中的地址</p>
<h3 id="如何解读class文件？"><a href="#如何解读class文件？" class="headerlink" title="如何解读class文件？"></a>如何解读class文件？</h3><p>.class文件以16进制存储的</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-text" data-language="text"><code class="language-text">0000000 ca fe ba be 00 00 00 34 00 4b 0a 00 10 00 2a 0a | .......4.K....*.
0000010 00 2b 00 2c 09 00 2d 00 2e 0a 00 2f 00 30 07 00 | .+.,..-..../.0..
0000020 31 0a 00 05 00 2a 07 00 32 08 00 33 0a 00 07 00 | 1....*..2..3....
0000030 34 0a 00 05 00 35 08 00 36 0a 00 05 00 37 08 00 | 4....5..6....7..
0000040 38 0a 00 07 00 39 07 00 3a 07 00 3b 01 00 06 3c | 8....9..:..;...&lt;
0000050 69 6e 69 74 3e 01 00 03 28 29 56 01 00 04 43 6f | init>...()V...Co
0000060 64 65 01 00 0f 4c 69 6e 65 4e 75 6d 62 65 72 54 | de...LineNumberT
0000070 61 62 6c 65 01 00 12 4c 6f 63 61 6c 56 61 72 69 | able...LocalVari
0000080 61 62 6c 65 54 61 62 6c 65 01 00 04 74 68 69 73 | ableTable...this
0000090 01 00 21 4c 63 6e 2f 68 79 71 75 70 2f 6a 76 6d | ..!Lcn/hyqup/jvm
00000a0 2f 42 79 74 65 43 6f 6e 64 65 49 6e 74 65 72 76 | /ByteCondeInterv
00000b0 69 65 77 3b 01 00 05 74 65 73 74 31 01 00 02 69 | iew;...test1...i
00000c0 31 01 00 13 4c 6a 61 76 61 2f 6c 61 6e 67 2f 49 | 1...Ljava/lang/I
00000d0 6e 74 65 67 65 72 3b 01 00 02 69 32 01 00 0d 53 | nteger;...i2...S
00000e0 74 61 63 6b 4d 61 70 54 61 62 6c 65 07 00 3a 07 | tackMapTable..:.
00000f0 00 3c 07 00 3d 01 00 19 52 75 6e 74 69 6d 65 56 | .&lt;..=...RuntimeV
0000100 69 73 69 62 6c 65 41 6e 6e 6f 74 61 74 69 6f 6e | isibleAnnotation
0000110 73 01 00 10 4c 6f 72 67 2f 6a 75 6e 69 74 2f 54 | s...Lorg/junit/T
0000120 65 73 74 3b 01 00 05 74 65 73 74 32 01 00 04 73 | est;...test2...s
0000130 74 72 31 01 00 12 4c 6a 61 76 61 2f 6c 61 6e 67 | tr1...Ljava/lang
0000140 2f 53 74 72 69 6e 67 3b 01 00 04 73 74 72 32 07 | /String;...str2.
0000150 00 32 01 00 05 74 65 73 74 33 01 00 0a 53 6f 75 | .2...test3...Sou
0000160 72 63 65 46 69 6c 65 01 00 17 42 79 74 65 43 6f | rceFile...ByteCo
0000170 6e 64 65 49 6e 74 65 72 76 69 65 77 2e 6a 61 76 | ndeInterview.jav
0000180 61 0c 00 11 00 12 07 00 3c 0c 00 3e 00 3f 07 00 | a.......&lt;..>.?..
0000190 40 0c 00 41 00 42 07 00 3d 0c 00 43 00 44 01 00 | @..A.B..=..C.D..
00001a0 17 6a 61 76 61 2f 6c 61 6e 67 2f 53 74 72 69 6e | .java/lang/Strin
00001b0 67 42 75 69 6c 64 65 72 01 00 10 6a 61 76 61 2f | gBuilder...java/
00001c0 6c 61 6e 67 2f 53 74 72 69 6e 67 01 00 05 68 65 | lang/String...he
00001d0 6c 6c 6f 0c 00 11 00 45 0c 00 46 00 47 01 00 05 | llo....E..F.G...
00001e0 77 6f 72 6c 64 0c 00 48 00 49 01 00 0a 68 65 6c | world..H.I...hel
00001f0 6c 6f 77 6f 72 6c 64 0c 00 4a 00 49 01 00 1f 63 | loworld..J.I...c
0000200 6e 2f 68 79 71 75 70 2f 6a 76 6d 2f 42 79 74 65 | n/hyqup/jvm/Byte
0000210 43 6f 6e 64 65 49 6e 74 65 72 76 69 65 77 01 00 | CondeInterview..
0000220 10 6a 61 76 61 2f 6c 61 6e 67 2f 4f 62 6a 65 63 | .java/lang/Objec
0000230 74 01 00 11 6a 61 76 61 2f 6c 61 6e 67 2f 49 6e | t...java/lang/In
0000240 74 65 67 65 72 01 00 13 6a 61 76 61 2f 69 6f 2f | teger...java/io/
0000250 50 72 69 6e 74 53 74 72 65 61 6d 01 00 07 76 61 | PrintStream...va
0000260 6c 75 65 4f 66 01 00 16 28 49 29 4c 6a 61 76 61 | lueOf...(I)Ljava
0000270 2f 6c 61 6e 67 2f 49 6e 74 65 67 65 72 3b 01 00 | /lang/Integer;..
0000280 10 6a 61 76 61 2f 6c 61 6e 67 2f 53 79 73 74 65 | .java/lang/Syste
0000290 6d 01 00 03 6f 75 74 01 00 15 4c 6a 61 76 61 2f | m...out...Ljava/
00002a0 69 6f 2f 50 72 69 6e 74 53 74 72 65 61 6d 3b 01 | io/PrintStream;.
00002b0 00 07 70 72 69 6e 74 6c 6e 01 00 04 28 5a 29 56 | ..println...(Z)V
00002c0 01 00 15 28 4c 6a 61 76 61 2f 6c 61 6e 67 2f 53 | ...(Ljava/lang/S
00002d0 74 72 69 6e 67 3b 29 56 01 00 06 61 70 70 65 6e | tring;)V...appen
00002e0 64 01 00 2d 28 4c 6a 61 76 61 2f 6c 61 6e 67 2f | d..-(Ljava/lang/
00002f0 53 74 72 69 6e 67 3b 29 4c 6a 61 76 61 2f 6c 61 | String;)Ljava/la
0000300 6e 67 2f 53 74 72 69 6e 67 42 75 69 6c 64 65 72 | ng/StringBuilder
0000310 3b 01 00 08 74 6f 53 74 72 69 6e 67 01 00 14 28 | ;...toString...(
0000320 29 4c 6a 61 76 61 2f 6c 61 6e 67 2f 53 74 72 69 | )Ljava/lang/Stri
0000330 6e 67 3b 01 00 06 69 6e 74 65 72 6e 00 21 00 0f | ng;...intern.!..
0000340 00 10 00 00 00 00 00 04 00 01 00 11 00 12 00 01 | ................
0000350 00 13 00 00 00 2f 00 01 00 01 00 00 00 05 2a b7 | ...../........*.
0000360 00 01 b1 00 00 00 02 00 14 00 00 00 06 00 01 00 | ................
0000370 00 00 0d 00 15 00 00 00 0c 00 01 00 00 00 05 00 | ................
0000380 16 00 17 00 00 00 01 00 18 00 12 00 02 00 13 00 | ................
0000390 00 00 98 00 03 00 03 00 00 00 1f 11 00 80 b8 00 | ................
00003a0 02 4c 11 00 80 b8 00 02 4d b2 00 03 2b 2c a6 00 | .L......M...+,..
00003b0 07 04 a7 00 04 03 b6 00 04 b1 00 00 00 03 00 14 | ................
00003c0 00 00 00 12 00 04 00 00 00 1c 00 07 00 1d 00 0e | ................
00003d0 00 1f 00 1e 00 20 00 15 00 00 00 20 00 03 00 00 | ..... ..... ....
00003e0 00 1f 00 16 00 17 00 00 00 07 00 18 00 19 00 1a | ................
00003f0 00 01 00 0e 00 11 00 1b 00 1a 00 02 00 1c 00 00 | ................
0000400 00 29 00 02 ff 00 1a 00 03 07 00 1d 07 00 1e 07 | .)..............
0000410 00 1e 00 01 07 00 1f ff 00 00 00 03 07 00 1d 07 | ................
0000420 00 1e 07 00 1e 00 02 07 00 1f 01 00 20 00 00 00 | ............ ...
0000430 06 00 01 00 21 00 00 00 01 00 22 00 12 00 02 00 | ....!.....".....
0000440 13 00 00 00 b0 00 04 00 03 00 00 00 37 bb 00 05 | ............7...
0000450 59 b7 00 06 bb 00 07 59 12 08 b7 00 09 b6 00 0a | Y......Y........
0000460 bb 00 07 59 12 0b b7 00 09 b6 00 0a b6 00 0c 4c | ...Y...........L
0000470 12 0d 4d b2 00 03 2b 2c a6 00 07 04 a7 00 04 03 | ..M...+,........
0000480 b6 00 04 b1 00 00 00 03 00 14 00 00 00 12 00 04 | ................
0000490 00 00 00 25 00 23 00 26 00 26 00 28 00 36 00 29 | ...%.#.&amp;.&amp;.(.6.)
00004a0 00 15 00 00 00 20 00 03 00 00 00 37 00 16 00 17 | ..... .....7....
00004b0 00 00 00 23 00 14 00 23 00 24 00 01 00 26 00 11 | ...#...#.$...&amp;..
00004c0 00 25 00 24 00 02 00 1c 00 00 00 29 00 02 ff 00 | .%.$.......)....
00004d0 32 00 03 07 00 1d 07 00 26 07 00 26 00 01 07 00 | 2.......&amp;..&amp;....
00004e0 1f ff 00 00 00 03 07 00 1d 07 00 26 07 00 26 00 | ...........&amp;..&amp;.
00004f0 02 07 00 1f 01 00 20 00 00 00 06 00 01 00 21 00 | ...... .......!.
0000500 00 00 01 00 27 00 12 00 02 00 13 00 00 00 b9 00 | ....'...........
0000510 04 00 03 00 00 00 3c bb 00 05 59 b7 00 06 bb 00 | ......&lt;...Y.....
0000520 07 59 12 08 b7 00 09 b6 00 0a bb 00 07 59 12 0b | .Y...........Y..
0000530 b7 00 09 b6 00 0a b6 00 0c 4c 2b b6 00 0e 57 12 | .........L+...W.
0000540 0d 4d b2 00 03 2b 2c a6 00 07 04 a7 00 04 03 b6 | .M...+,.........
0000550 00 04 b1 00 00 00 03 00 14 00 00 00 16 00 05 00 | ................
0000560 00 00 2e 00 23 00 2f 00 28 00 30 00 2b 00 31 00 | ....#./.(.0.+.1.
0000570 3b 00 32 00 15 00 00 00 20 00 03 00 00 00 3c 00 | ;.2..... .....&lt;.
0000580 16 00 17 00 00 00 23 00 19 00 23 00 24 00 01 00 | ......#...#.$...
0000590 2b 00 11 00 25 00 24 00 02 00 1c 00 00 00 29 00 | +...%.$.......).
00005a0 02 ff 00 37 00 03 07 00 1d 07 00 26 07 00 26 00 | ...7.......&amp;..&amp;.
00005b0 01 07 00 1f ff 00 00 00 03 07 00 1d 07 00 26 07 | ..............&amp;.
00005c0 00 26 00 02 07 00 1f 01 00 20 00 00 00 06 00 01 | .&amp;....... ......
00005d0 00 21 00 00 00 01 00 28 00 00 00 02 00 29       | .!.....(.....)
00005de <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>如上，.class</p>
<p>文件开头的4个字节<code>cafe babe</code> 称之为 <strong>魔数</strong>,0000是编译器jdk版本的次版本号0，0034转化为十进制是52,是主版本号，java的版本号从45开始  52对应1.8，接下来就是一些<code>常量池</code>、<code>方法表集合</code>等信息 这些字16进制的信息对应为jvm 所认识的字节码指令。</p>
<h3 id="字节码指令集与解析"><a href="#字节码指令集与解析" class="headerlink" title="字节码指令集与解析"></a>字节码指令集与解析</h3><blockquote>
<p>JVM中的字节码指令集按用途大致分成9类</p>
</blockquote>
<ul>
<li>加载与存储指令</li>
</ul>
<p>​	    <strong>局部变量压入操作数栈</strong></p>
<p>​			xload：（其中x 为 i、l、f、d、a）</p>
<p>​		<strong>常量入栈</strong></p>
<p>​			const、push、ldc</p>
<ul>
<li>算术指令</li>
<li>类型转换指令</li>
<li>对象的创建与访问指令</li>
<li>方法调用与返回指令</li>
</ul>
<p>1.<code>invokevirtual</code>指令用于调用对象的实例方法，根据对象的实际类型进行分派(虚方法分派)，支持多态，这也是java语言中最常见的方法分派方式。</p>
<p>2.<code>invokerinterface</code>指令用于调用接口方法，它会在运行时搜索由特定对象所实现的这个接口方法，并找出适合的方法进行调用</p>
<p>3.<code>invokespecial</code>指令用于调用一些需要特殊处理的实例方法，包括实例<code>初始化方法(构造器)</code>，私有方法和父类方法，这些方法都是静态类型绑定的，不会在调用时进行动态派发</p>
<p>4.<code>invokestatic</code>指令用于调用命名类中的类方法(static方法)，这是静态绑定的</p>
<p>5.<code>invokedynamic</code>指令用于调用动态绑定的方法，这是jdk1.7之后新加入的指令，用于在运行时动态解析出调用点限定符所引用的方法，并执行该方法。前面4条调用指令的分派逻辑都固化在java虚拟机内部，而invokedynamic指令的分配逻辑是由用户所设定的引导方法决定的</p>
<ul>
<li>操作数栈管理指令</li>
<li>控制转移指令</li>
<li>异常处理指令</li>
<li>同步控制指令</li>
</ul>
<p> 关于字节码指令集详细：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sjqstart/p/15044517.html">https://www.cnblogs.com/sjqstart/p/15044517.html</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/mynameisgt/article/details/125052344">https://blog.csdn.net/mynameisgt/article/details/125052344</a></p>
</blockquote>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Java/" class="category-chain-item">Java</a>
  
  
    <span>></span>
    
  <a href="/categories/Java/JVM/" class="category-chain-item">JVM</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>JVM与GC调优(一)-字节码篇</div>
      <div>https://hyq965672903.gitee.io/posts/d7ec6c3.html</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>灼华</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年9月13日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/a82b0894.html" title="JVM与GC调优(二)-类加载子系统篇">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">JVM与GC调优(二)-类加载子系统篇</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/597465dd.html" title="剑指源码-Mybatis-(二)-主流程分析与核心组件关系">
                        <span class="hidden-mobile">剑指源码-Mybatis-(二)-主流程分析与核心组件关系</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <br> <a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank" rel="nofollow noopener"><span>本网站由<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" srcset="/img/loading.gif" lazyload data-original="/img/hexo_final/upyun_logo2.png" style="width:50px"></img>提供CDN加速/云存储服务</span></a>

    </div>
  
  
  
    <!-- 备案信息 ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      蜀ICP备2020032290号-1
    </a>
  </span>
  
</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script  src="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js" ></script>

  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/gh/hyq965672903/hyq965672903.github.io/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.7},"dialog":{"enable":true,"hitokoto":true},"log":false});</script>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body>
</html>
